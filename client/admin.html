<!doctype html>
<html lang="pt-BR" data-theme-variant="default">
  <head>
    <meta charset="utf-8" />
    <title>DARAH · Admin</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Cinzel font for the whole site -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />

    <link rel="stylesheet" href="styles.css" />
    <style>
      /* Layout base */
      .admin-main {
        max-width: 1180px;
        margin: 24px auto 40px;
        padding: 0 16px;
      }

      .admin-status {
        margin-top: 6px;
        font-size: 12px;
        color: var(--text-muted);
      }
      .admin-status.ok {
        color: #2e7d32;
      }
      .admin-status.error {
        color: #c62828;
      }

      .admin-toolbar {
        display: flex;
        align-items: center;
        justify-content: space-between;
        margin-bottom: 12px;
      }

      .admin-toolbar-left {
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .admin-badge {
        display: inline-flex;
        align-items: center;
        gap: 6px;
        padding: 3px 10px;
        border-radius: 999px;
        background: rgba(0, 0, 0, 0.04);
        font-size: 11px;
        text-transform: uppercase;
        letter-spacing: 0.14em;
      }

      .admin-badge-dot {
        width: 6px;
        height: 6px;
        border-radius: 999px;
        background: var(--accent);
      }

      .admin-login {
        max-width: 420px;
        margin: 40px auto;
      }
      .admin-login-card {
        background: var(--card-bg);
        border-radius: 18px;
        padding: 20px 18px 22px;
        box-shadow: var(--shadow-soft);
        border: 1px solid var(--border-soft);
      }
      .admin-login-subtitle {
        margin: 0 0 18px;
        font-size: 13px;
        color: var(--text-muted);
      }

      .admin-field {
        margin-bottom: 14px;
      }
      .admin-label {
        display: block;
        font-size: 12px;
        text-transform: uppercase;
        letter-spacing: 0.14em;
        margin-bottom: 4px;
        color: var(--text-muted-strong);
      }
      .admin-input,
      .admin-textarea,
      .admin-select {
        width: 100%;
        border-radius: 999px;
        border: 1px solid var(--border-soft);
        padding: 7px 11px;
        font-size: 13px;
        font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
          sans-serif;
        background: rgba(255, 255, 255, 0.96);
        color: var(--text-main);
      }
      .admin-textarea {
        border-radius: 12px;
        min-height: 100px;
        resize: vertical;
        line-height: 1.4;
      }
      .admin-input:focus,
      .admin-textarea:focus,
      .admin-select:focus {
        outline: none;
        border-color: var(--accent-soft);
        box-shadow: 0 0 0 1px var(--accent-soft);
      }

      /* Buttons */
      .admin-button-secondary {
        border-radius: 999px;
        border: 1px solid var(--border-soft);
        padding: 6px 12px;
        font-size: 12px;
        background: rgba(255, 255, 255, 0.9);
        cursor: pointer;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        gap: 6px;
        transition: background 0.15s ease, transform 0.08s ease,
          box-shadow 0.12s ease;
      }
      .admin-button-secondary:hover {
        background: rgba(0, 0, 0, 0.02);
        transform: translateY(1px);
        box-shadow: 0 3px 8px rgba(0, 0, 0, 0.08);
      }
      .admin-button-secondary:active {
        transform: translateY(2px);
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.08);
      }

      .admin-login-button {
        width: 100%;
        margin-top: 12px;
      }

      .admin-login-error {
        margin-top: 8px;
        font-size: 12px;
        color: #c62828;
        display: none;
      }

      .admin-user-box {
        display: inline-flex;
        align-items: center;
        gap: 8px;
      }

      .admin-user-label {
        font-size: 13px;
        color: var(--text-muted-strong);
      }

      .admin-header-actions {
        display: flex;
        align-items: center;
        gap: 16px;
      }

      .admin-theme-toggle {
        display: inline-flex;
        align-items: center;
        gap: 6px;
        font-size: 12px;
      }

      .admin-theme-label {
        text-transform: uppercase;
        letter-spacing: 0.12em;
        font-size: 11px;
        color: var(--text-muted-strong);
      }

      .admin-theme-select {
        min-width: 120px;
        font-size: 12px;
      }

      .admin-badge-top {
        font-size: 11px;
        text-transform: uppercase;
        letter-spacing: 0.14em;
        color: var(--text-muted-strong);
      }

      .admin-logout-button {
        font-size: 11px;
      }

      .admin-loading-section {
        display: none;
        justify-content: center;
        align-items: center;
        margin-top: 40px;
      }
      .admin-loading-card {
        text-align: center;
        background: var(--card-bg);
        border-radius: 18px;
        padding: 24px 20px 26px;
        box-shadow: var(--shadow-soft);
        border: 1px solid var(--border-soft);
      }
      .loading-circle-wrapper {
        display: flex;
        justify-content: center;
        align-items: center;
        padding: 24px 0;
      }
      .loading-circle {
        width: 80px;
        height: 80px;
        border-radius: 50%;
        background: conic-gradient(
          var(--accent-soft) 0deg,
          #f0f0f0 120deg,
          #f0f0f0 360deg
        );
        display: flex;
        align-items: center;
        justify-content: center;
      }
      .loading-circle-inner {
        width: 64px;
        height: 64px;
        background: #ffffff;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        box-shadow: 0 12px 30px rgba(0, 0, 0, 0.08);
      }
      .loading-circle-fill {
        width: 56px;
        height: 56px;
        border-radius: 50%;
        background: conic-gradient(
          var(--accent-blue) 0deg,
          #f0f0f0 0deg
        );
        animation: loadingFill 1.4s linear infinite;
      }

      .admin-loading-text {
        font-size: 14px;
        margin-top: 10px;
      }
      .admin-loading-subtext {
        font-size: 12px;
        margin-top: 4px;
        color: var(--text-muted);
      }

      @keyframes loadingFill {
        from {
          background: conic-gradient(
            var(--accent-blue) 0deg,
            #f0f0f0 0deg
          );
        }
        to {
          background: conic-gradient(
            var(--accent-blue) 360deg,
            #f0f0f0 0deg
          );
        }
      }

      /* Admin product grid mirrors storefront */
      .admin-product-grid {
        display: grid;
        grid-template-columns: repeat(3, minmax(0, 1fr));
        gap: 16px;
        margin-top: 12px;
      }

      .admin-product-card {
        background: var(--card-bg);
        border-radius: 16px;
        padding: 10px;
        box-shadow: var(--shadow-soft);
        border: 1px solid var(--border-soft);
        display: flex;
        flex-direction: column;
      }

      .admin-product-images {
        display: flex;
        gap: 6px;
        margin-bottom: 8px;
      }

      .admin-product-image-thumb {
        width: 48px;
        height: 48px;
        border-radius: 10px;
        background: var(--skeleton-soft);
        overflow: hidden;
        border: 1px solid var(--border-soft);
      }

      .admin-product-image-thumb img {
        width: 100%;
        height: 100%;
        object-fit: cover;
      }

      .admin-product-main-info {
        margin-bottom: 6px;
      }

      .admin-product-title-row {
        display: flex;
        align-items: baseline;
        justify-content: space-between;
        gap: 6px;
      }

      .admin-product-title {
        font-size: 13px;
        font-weight: 600;
      }

      .admin-product-price {
        font-size: 13px;
        font-weight: 600;
        color: var(--accent);
      }

      .admin-product-meta-row {
        display: flex;
        justify-content: space-between;
        font-size: 11px;
        color: var(--text-muted-strong);
      }

      .admin-product-badges {
        display: inline-flex;
        flex-wrap: wrap;
        gap: 4px;
        margin-top: 4px;
      }

      .admin-product-badge {
        font-size: 10px;
        text-transform: uppercase;
        letter-spacing: 0.12em;
        border-radius: 999px;
        padding: 2px 6px;
        border: 1px solid var(--border-soft);
      }

      .admin-product-actions-row {
        margin-top: 8px;
        display: flex;
        justify-content: flex-end;
      }

      .admin-product-form {
        margin-top: 14px;
        background: rgba(255, 255, 255, 0.9);
        border-radius: 16px;
        padding: 14px 12px 12px;
        border: 1px dashed var(--border-soft);
      }

      .admin-product-form h3 {
        font-size: 13px;
        margin: 0 0 10px 0;
      }

      .admin-product-form-row {
        display: grid;
        grid-template-columns: repeat(2, minmax(0, 1fr));
        gap: 10px;
      }

      .admin-product-textarea {
        min-height: 80px;
        border-radius: 12px;
      }

      .admin-image-upload-row {
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .admin-image-preview {
        width: 60px;
        height: 60px;
        border-radius: 14px;
        background: var(--skeleton-soft);
        display: flex;
        align-items: center;
        justify-content: center;
        overflow: hidden;
        border: 1px solid var(--border-soft);
      }

      .admin-image-preview img {
        width: 100%;
        height: 100%;
        object-fit: cover;
      }

      .admin-image-placeholder {
        font-size: 22px;
        color: #999;
      }

      .admin-notice-list {
        margin-top: 4px;
        display: flex;
        flex-direction: column;
        gap: 8px;
      }

      .admin-notice-item {
        display: flex;
        align-items: center;
        gap: 6px;
      }

      .admin-notice-item input {
        flex: 1;
      }

      .admin-notice-remove {
        padding: 4px 8px;
        font-size: 11px;
      }

      .admin-theme-select {
        border-radius: 999px;
      }

      .admin-product-id {
        font-size: 11px;
        color: var(--text-muted);
      }

      .admin-product-category {
        font-size: 11px;
        color: var(--text-muted-strong);
      }

      .admin-panel {
        display: none;
      }

      .notice-row {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 6px;
      }

      .admin-subsection-title {
        margin-top: 18px;
        margin-bottom: 8px;
        font-size: 13px;
        text-transform: uppercase;
        letter-spacing: 0.12em;
        color: var(--text-muted-strong);
      }

      .admin-section-description {
        font-size: 12px;
        color: var(--text-muted);
      }

      .admin-category-tabs {
        display: flex;
        flex-wrap: wrap;
        gap: 6px;
        margin-bottom: 8px;
      }

      .admin-category-tab {
        border-radius: 999px;
        padding: 5px 10px;
        font-size: 11px;
        border: 1px solid var(--border-soft);
        background: rgba(255, 255, 255, 0.9);
        cursor: pointer;
      }

      .admin-category-tab.is-active {
        background: var(--accent);
        color: #ffffff;
        border-color: var(--accent);
      }

      .admin-category-empty {
        font-size: 13px;
        color: var(--text-muted);
        padding: 12px 0;
      }

      .admin-hero-tip {
        font-size: 12px;
        color: var(--text-muted);
        margin-top: 6px;
      }

      .admin-grid-subtitle {
        font-size: 12px;
        color: var(--text-muted);
        margin-bottom: 6px;
      }
    </style>
  </head>
  <body>
    <header class="site-header">
      <div class="brand-bar">
        <div class="brand-bar-inner">
          <div class="brand-mark">
            <div class="brand-mark-ring"></div>
            <div class="brand-mark-gem"></div>
          </div>
          <div class="brand-text">
            <span class="brand-name">DARAH</span>
            <span class="brand-subtitle">joias atemporais</span>
          </div>
        </div>
      </div>
      <nav class="main-nav">
        <!-- Botão de menu mobile (três linhas) -->
        <button
          class="nav-mobile-toggle"
          type="button"
          aria-label="Abrir menu de navegação"
          aria-expanded="false"
          aria-controls="navDropdown"
        >
          <span class="nav-mobile-toggle-box">
            <span class="nav-mobile-toggle-line"></span>
            <span class="nav-mobile-toggle-line"></span>
            <span class="nav-mobile-toggle-line"></span>
          </span>
        </button>

        <div class="nav-left">
          <button
            class="nav-link active"
            data-mobile-priority="true"
            data-view="home"
          >
            Início
          </button>
          <button
            class="nav-link"
            data-mobile-priority="true"
            data-view="about"
          >
            Sobre nós
          </button>
          <button
            class="nav-link"
            data-mobile-extra="true"
            data-view="specials"
          >
            Ofertas especiais
          </button>
          <button class="nav-link" data-mobile-extra="true" data-view="sets">
            Conjuntos
          </button>
          <button class="nav-link" data-mobile-extra="true" data-view="rings">
            Anéis
          </button>
          <button
            class="nav-link"
            data-mobile-extra="true"
            data-view="necklaces"
          >
            Colares
          </button>
          <button
            class="nav-link"
            data-mobile-extra="true"
            data-view="bracelets"
          >
            Pulseiras
          </button>
          <button
            class="nav-link"
            data-mobile-extra="true"
            data-view="earrings"
          >
            Brincos
          </button>
        </div>

        <div class="admin-header-actions">
          <div class="admin-theme-toggle">
            <span class="admin-theme-label">Tema</span>
            <select id="adminThemeSelect" class="admin-theme-select">
              <option value="default">Padrão</option>
              <option value="natal">Natal</option>
              <option value="pascoa">Páscoa</option>
            </select>
          </div>
          <span class="admin-badge-top">Painel administrativo privado</span>
          <div class="admin-user-box">
            <span id="adminUserNameLabel" class="admin-user-label"></span>
            <button
              id="adminLogoutButton"
              type="button"
              class="admin-button-secondary admin-logout-button"
            >
              Sair
            </button>
          </div>
        </div>

        <!-- Dropdown de navegação em mobile, preenchido por JS -->
        <div id="navDropdown" class="nav-dropdown"></div>
      </nav>
    </header>

    <main class="main-content admin-main">
      <!-- Login -->
      <section id="adminLoginSection" class="admin-login">
        <div class="admin-login-card">
          <h1 class="section-title" style="margin-top:0">
            Acesso ao painel DARAH
          </h1>
          <p class="admin-login-subtitle">
            Informe seu usuário e senha para acessar as coleções, fotos da
            homepage e avisos do site.
          </p>

          <div class="admin-field">
            <label for="adminUsername" class="admin-label">Usuário</label>
            <input
              id="adminUsername"
              class="admin-input"
              type="text"
              autocomplete="username"
              placeholder="Ex: Maria Eduarda"
            />
          </div>

          <div class="admin-field">
            <label for="adminPassword" class="admin-label">Senha</label>
            <input
              id="adminPassword"
              class="admin-input"
              type="password"
              autocomplete="current-password"
              placeholder="Digite sua senha"
            />
          </div>

          <button
            id="adminLoginButton"
            type="button"
            class="primary-button admin-login-button"
          >
            Entrar
          </button>

          <p id="adminLoginError" class="admin-login-error"></p>
        </div>
      </section>

      <!-- Loading -->
      <section id="adminLoadingSection" class="admin-loading-section">
        <div class="admin-loading-card">
          <div class="loading-circle-wrapper">
            <div class="loading-circle">
              <div class="loading-circle-inner">
                <div class="loading-circle-fill"></div>
              </div>
            </div>
          </div>
          <p
            id="adminWelcomeMessage"
            class="admin-loading-text"
            style="margin-bottom:4px"
          >
            Bem vinda ao painel DARAH
          </p>
          <p class="admin-loading-subtext">
            Carregando suas coleções, fotos da homepage e avisos do site.
          </p>
        </div>
      </section>

      <!-- Painel autenticado com as mesmas abas da vitrine -->
      <section id="adminPanelSection" class="admin-panel">
        <!-- VISÃO INÍCIO -->
        <section id="view-home" class="view active-view">
          <div class="hero">
            <div class="hero-images" id="adminHeroGallery"></div>
            <div class="hero-about">
              <h2 class="hero-title">Joias DARAH</h2>

              <div class="admin-field" style="margin-top:4px">
                <label for="adminAboutText" class="admin-label"
                  >Texto sobre a marca</label
                >
                <textarea
                  id="adminAboutText"
                  class="admin-textarea"
                  placeholder="Texto curto que aparece na homepage ao lado das fotos"
                ></textarea>
              </div>

              <p class="admin-hero-tip">
                Esse texto aparece em destaque na página inicial, ao lado da
                colagem de fotos.
              </p>

              <div class="admin-field" style="margin-top:10px">
                <label for="adminAboutLongText" class="admin-label"
                  >Texto longo (opcional)</label
                >
                <textarea
                  id="adminAboutLongText"
                  class="admin-textarea"
                  placeholder='Texto usado na página "Sobre nós" se você quiser um texto mais detalhado sobre a história da marca.'
                ></textarea>
                <p class="admin-status">
                  Se esse campo ficar vazio, usaremos o texto curto acima na
                  página "Sobre nós".
                </p>
              </div>

              <div style="margin-top:10px">
                <input
                  id="adminHeroImagesFile"
                  type="file"
                  accept="image/*"
                  multiple
                  style="display:none"
                />
                <button
                  type="button"
                  id="adminHeroImagesFileButton"
                  class="admin-button-secondary"
                >
                  Escolher fotos do dispositivo
                </button>
                <button
                  id="saveHomepageBtn"
                  class="primary-button"
                  style="margin-left:8px"
                >
                  Salvar página inicial
                </button>
                <p id="adminHomepageStatus" class="admin-status"></p>
                <textarea
                  id="adminHeroImages"
                  class="admin-textarea"
                  style="display:none"
                ></textarea>
              </div>

              <div style="margin-top:16px">
                <div class="notice-row">
                  <span class="admin-label">Avisos do site</span>
                  <button
                    type="button"
                    id="adminAddNoticeBtn"
                    class="admin-button-secondary"
                  >
                    + Novo aviso
                  </button>
                </div>
                <div id="adminNoticeList" class="admin-notice-list"></div>
                <p id="adminNoticeStatus" class="admin-status"></p>
              </div>
            </div>
          </div>
        </section>

        <!-- VISÃO SOBRE NÓS -->
        <section id="view-about" class="view about-view">
          <h2 class="section-title">Sobre nós</h2>
          <div class="about-layout">
            <div class="about-text-block">
              <div class="admin-field">
                <label for="adminAboutLongText" class="admin-label">
                  Texto da página "Sobre nós"
                </label>
                <textarea
                  id="adminAboutLongTextText"
                  class="admin-textarea"
                  placeholder='Esse texto aparece na página "Sobre nós". Caso fique vazio, usamos o texto curto da homepage.'
                ></textarea>
                <p class="admin-status">
                  O conteúdo deste campo deve ser uma versão mais completa sobre
                  a história da marca.
                </p>
              </div>

              <div class="admin-field">
                <label class="admin-label">Fotos da página "Sobre nós"</label>
                <div class="admin-image-upload-row">
                  <div
                    class="admin-image-preview"
                    style="width:72px;height:72px;"
                  >
                    <div
                      id="adminAboutImagePlaceholder"
                      class="admin-image-placeholder"
                    >
                      +
                    </div>
                    <img
                      id="adminAboutImagePreview"
                      alt="Pré visualização da colagem"
                      style="display:none"
                    />
                  </div>
                  <div>
                    <button
                      type="button"
                      id="adminAboutImagesFileButton"
                      class="admin-button-secondary"
                    >
                      Escolher foto(s)
                    </button>
                    <p class="admin-status" style="margin-top:4px">
                      Até 4 fotos. Se nenhuma foto for adicionada, a colagem
                      não aparece na vitrine.
                    </p>
                  </div>
                </div>
              </div>

              <p id="adminAboutStatus" class="admin-status"></p>

              <input
                id="adminAboutImagesFile"
                type="file"
                accept="image/*"
                multiple
                style="display:none"
              />
              <textarea
                id="adminAboutImages"
                class="admin-textarea"
                style="display:none"
              ></textarea>
              <div
                id="adminAboutCollagePreview"
                class="about-collage"
                style="margin-top:10px"
              ></div>

              <button
                id="saveAboutPageBtn"
                class="primary-button"
                style="margin-top:12px"
              >
                Salvar página "Sobre nós"
              </button>
            </div>
          </div>
        </section>

        <!-- VISÕES DE PRODUTOS (espelham a vitrine) -->
        <section id="view-specials" class="view">
          <div class="admin-toolbar">
            <div class="admin-toolbar-left">
              <h2 class="section-title">Ofertas especiais</h2>
            </div>
          </div>
          <p class="admin-grid-subtitle">
            Produtos marcados como destaque ou com promoção aparecem em destaque
            nesta seção.
          </p>
          <div
            id="adminSpecialsGrid"
            class="product-grid admin-product-grid"
          ></div>
          <p id="adminSpecialsStatus" class="admin-status"></p>
        </section>

        <section id="view-sets" class="view">
          <div class="admin-toolbar">
            <div class="admin-toolbar-left">
              <h2 class="section-title">Conjuntos</h2>
            </div>
          </div>
          <p class="admin-grid-subtitle">
            Conjuntos combinando várias peças em harmonia.
          </p>
          <div id="adminSetsGrid" class="product-grid admin-product-grid"></div>
          <p id="adminSetsStatus" class="admin-status"></p>
        </section>

        <section id="view-rings" class="view">
          <div class="admin-toolbar">
            <div class="admin-toolbar-left">
              <h2 class="section-title">Anéis</h2>
            </div>
          </div>
          <p class="admin-grid-subtitle">
            Gerencie todos os anéis disponíveis na vitrine.
          </p>
          <div id="adminRingsGrid" class="product-grid admin-product-grid"></div>
          <p id="adminRingsStatus" class="admin-status"></p>
        </section>

        <section id="view-necklaces" class="view">
          <div class="admin-toolbar">
            <div class="admin-toolbar-left">
              <h2 class="section-title">Colares</h2>
            </div>
          </div>
          <p class="admin-grid-subtitle">
            Cadastre e edite colares com ou sem pingentes especiais.
          </p>
          <div
            id="adminNecklacesGrid"
            class="product-grid admin-product-grid"
          ></div>
          <p id="adminNecklacesStatus" class="admin-status"></p>
        </section>

        <section id="view-bracelets" class="view">
          <div class="admin-toolbar">
            <div class="admin-toolbar-left">
              <h2 class="section-title">Pulseiras</h2>
            </div>
          </div>
          <p class="admin-grid-subtitle">
            Pulseiras delicadas, rígidas, com pingentes e mais.
          </p>
          <div
            id="adminBraceletsGrid"
            class="product-grid admin-product-grid"
          ></div>
          <p id="adminBraceletsStatus" class="admin-status"></p>
        </section>

        <section id="view-earrings" class="view">
          <div class="admin-toolbar">
            <div class="admin-toolbar-left">
              <h2 class="section-title">Brincos</h2>
            </div>
          </div>
          <p class="admin-grid-subtitle">
            Brincos clássicos, argolas, pontos de luz e peças autorais.
          </p>
          <div
            id="adminEarringsGrid"
            class="product-grid admin-product-grid"
          ></div>
          <p id="adminEarringsStatus" class="admin-status"></p>
        </section>

        <!-- Template de aviso para clonagem no JS -->
        <template id="noticeItemTemplate">
          <div class="admin-notice-item">
            <input
              type="text"
              class="admin-input"
              placeholder="Mensagem do aviso"
            />
            <button
              type="button"
              class="admin-button-secondary admin-notice-remove"
            >
              Remover
            </button>
          </div>
        </template>

        <!-- Template de cartão de produto -->
        <template id="adminProductCardTemplate">
          <article class="product-card admin-product-card">
            <div class="product-image">
              <img alt="" class="admin-product-main-image" />
            </div>
            <div class="product-body">
              <div class="product-category admin-product-category"></div>
              <h3 class="product-title admin-product-title"></h3>
              <div class="product-price-row">
                <span class="product-price admin-product-price"></span>
              </div>
              <div class="admin-product-badges"></div>
              <div class="admin-product-meta-row">
                <span class="admin-product-id"></span>
                <span class="admin-product-stock"></span>
              </div>
            </div>
            <div class="admin-product-actions-row">
              <button
                type="button"
                class="admin-button-secondary admin-edit-product-button"
              >
                Editar
              </button>
            </div>
          </article>
        </template>
      </section>
    </main>

    <footer class="site-footer">
      <p>© 2025 DARAH. Todos os direitos reservados.</p>
    </footer>

    <script src="admin.js"></script>
  </body>
</html>
